<h1>Users</h1>


<ng-template #dialog let-data let-id let-userName let-ref="dialogRef">
  <nb-card>
    <nb-card-header>Add user role: ({{id}})</nb-card-header>
    <nb-card-body>
      <nb-card size="small">
        <nb-card-body>
          <nb-select placeholder="Select Showcase" [(selected)]="selectedItem">
            <nb-option value="user">user</nb-option>
            <nb-option value="admin">admin</nb-option>
            <nb-option value="admin">super admin</nb-option>
            <nb-option value="moderator">moderator</nb-option>
          </nb-select>
        </nb-card-body>
      </nb-card>
      
    </nb-card-body>
    <nb-card-footer>
      <button nbButton status="danger" (click)="ref.close()">Close</button> <button nbButton status="success" (click)="editRole(id, selectedItem);ref.close() ">Close Dialog</button>
    </nb-card-footer>
  </nb-card>
</ng-template>


<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  
    <!-- Position Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Name </th>
      <td mat-cell *matCellDef="let element">  <a [href]="'/profile/' + element._id"> {{element.name}} </a></td>
    </ng-container>

    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef> Email </th>
      <td mat-cell *matCellDef="let element"> {{element.email}} </td>
    </ng-container>
  
    <!-- Name Column -->
    <ng-container matColumnDef="roles">
      <th mat-header-cell *matHeaderCellDef> Roles </th>
      <td mat-cell *matCellDef="let element">   <button nbButton (click)="open(dialog, element._id)">{{element.roles}}</button></td>
    </ng-container>
  
  

    <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef> Edit </th>
        <td mat-cell *matCellDef="let element"> <button nbButton status="danger" (click)="deleteUser(element._id)">DELETE</button>  </td>
      </ng-container>
  

  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  
    <!-- Row shown when there is no matching data. -->
    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="4">No data matching the filter </td>
    </tr>
  </table>


 